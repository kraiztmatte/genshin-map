<!DOCTYPE html>
<html>
   <head>
      <meta name="baidu-site-verification" content="code-GKb2vGn6sE" />
      <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
      <title>The original god map</title>
      <meta charset="utf-8">
      <script>
         var _hmt = _hmt || [];
         (function () {
         var hm = document.createElement("script");
         hm.src = "https://hm.baidu.com/hm.js?cd4f7eed0a6e62d83b92c5dfb9f1a20f";
         var s = document.getElementsByTagName("script")[0];
         s.parentNode.insertBefore(hm, s);
         })();
      </script>
   </head>
   <script src="js/jquery-3.5.1.min.js"></script>
   <body>
      Due to the large number of users, the image server cannot afford the traffic demand. After the bald subprograms are trying their best to rescue, the web version of the map service has been restored, but there may be a freeze.
      </br>Travelers can still use the online map, we will also provide offline map support, and support the import of the data you marked on the website. The latest offline version download disk version address:
      </br> Link: <a href="https://pan.baidu.com/s/1zVB1pxVuRztbnrYbkez40g "
         target="_blank">https://pan.baidu.com/s/1zVB1pxVuRztbnrYbkez40g </a>
      </br>
      Extraction code: KYJG
      </br>You can also add groups to download offline update packages: 1 group 765302904 (full); 2 group 853210278 (full); 3 group 932683801 (full); 4 group 1139510554 (not full); 5 group 1149599151 ( Full)
      </br><button id="submitMarker">One-click export of mark point records</button> [Instructions for use] Copy the content of the exported data to the import box of the offline version and submit
      </br>Can't download? <button id="submitMarker2">Click to copy the record to the clipboard</button>
      </br>PS. Click archive in the online map to download the point record and record it to the clipboard or use the button below to jump to the upload point record page
      </br>
      </br><button id="update">Click to jump to the upload page</button>
      </br>
      </br><button id="enterIndex">Enter the aggregated online map</button>
      </br>
      </br><button id="enterIndex2">Enter the online map without aggregation</button>
   </body>
   <script>
    // Copy method
	function copyText(text, callback) {
	// text: content to be copied, callback: callback
	var tag = document.createElement("input");
	tag.setAttribute("id", "cp_hgz_input");
	tag.value = text;
	document.getElementsByTagName("body")[0].appendChild(tag);
	document.getElementById("cp_hgz_input").select();
	document.execCommand("copy");
	document.getElementById("cp_hgz_input").remove();
	if (callback) {
		callback(text);
	}
	}
	$("#submitMarker").click(function () {
	var markedLog = [];
	for (var i = 0; i < 29; i++) {
		for (var j = 1; j < 1200; j++) {
		var key = i + "_" + j;
		if (localStorage.getItem(key)) {
			markedLog.push(key);
		}
		}
	}
	var eleLink = document.createElement("a");
	eleLink.download = "markers.json";
	eleLink.style.display = "none";
	var blob = new Blob([JSON.stringify(markedLog)]);
	eleLink.href = URL.createObjectURL(blob);
	document.body.appendChild(eleLink);
	eleLink.click();
	document.body.removeChild(eleLink);
	});

	$("#submitMarker2").click(function () {
	var markedLog = [];
	for (var i = 0; i < 29; i++) {
		for (var j = 1; j < 1200; j++) {
		var key = i + "_" + j;
		if (localStorage.getItem(key)) {
			markedLog.push(key);
		}
		}
	}
	toolresult = JSON.stringify(markedLog);
	var texts = toolresult;
	copyText(texts, function () {
		alert("Copy successful \ncopy content" + texts);
	});
	console.log(toolresult);
	});
	//Specify a layer to be cleared
	$("#clearSomeLayer").click(function () {
	var layerId = 26;
	for (var i = 0; i < 1200; i++) {
		var key = layerId + "_" + i;
		localStorage.setItem(key, "");
	}
	});
	//Empty all
	$("#clearAllLayer").click(function () {
	var msg =
		"Are you sure you want to clear all tags? You can save the data locally before proceeding to avoid data loss.";
	if (confirm(msg) == true) {
		for (var j = 0; j < 50; j++) {
		for (var i = 0; i < 1200; i++) {
			var key = j + "_" + i;
			localStorage.setItem(key, "");
		}
		}
		alert("All tags have been emptied");
		return true; //You can also do other operations here
	} else {
		return false;
	}
	});
	$("#enterIndex").click(function () {
	window.event.returnValue = false;
	window.location.href = "index.html";
	});
	$("#enterIndex2").click(function () {
	window.event.returnValue = false;
	window.location.href = "index_old.html";
	});
	$("#update").click(function () {
	window.event.returnValue = false;
	window.location.href = "shangchuan.html";
	});
   </script>
</html>